<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-04-06 Sun 17:49 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emacs Guide</title>
<meta name="author" content="sbilmis" />
<meta name="generator" content="Org Mode" />
<link rel="stylesheet" type="text/css" href="../org-html-themes/src/readtheorg_theme/css/rtd-full.css" />
                   <link rel="stylesheet" type="text/css" href="../org-html-themes/src/readtheorg_theme/css/readtheorg.css" />
                   <link rel="stylesheet" type="text/css" href="../org-html-themes/src/readtheorg_theme/css/htmlize.css" />
                   <link rel="stylesheet" type="text/css" href="../org-html-themes/src/readtheorg_theme/css/search.css" />
                   <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                   <script type="text/javascript" src="../org-html-themes/src/readtheorg_theme/js/readtheorg.js"></script>
                   <script type="text/javascript" src="../org-html-themes/src/readtheorg_theme/js/search.js"></script>
</head>
<body>
<div id="content" class="content">
<h1 class="title">Emacs Guide</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org0559da3">1. Setting Up Emacs as a Python IDE with Eglot, Pyright, Black, and Ruff</a>
<ul>
<li><a href="#orgf184fe8">1.1. References</a></li>
</ul>
</li>
<li><a href="#orgfd64997">2. Creating a Python Virtual Environment with pyenv</a>
<ul>
<li><a href="#orgc2cd570">2.1. Why use pyenv?</a></li>
<li><a href="#org7100362">2.2. Step 1: Install `pyenv` and `pyenv-virtualenv`</a></li>
<li><a href="#org2d1ea83">2.3. Step 2: Install Python and Create a Virtual Environment</a></li>
<li><a href="#org94364e4">2.4. Step 3: Link the Virtual Environment to Your Project</a></li>
<li><a href="#orgd466ae6">2.5. Step 4: Install Python Development Tools</a></li>
<li><a href="#org6d802cd">2.6. Step 5: Confirm the Installation Locations</a></li>
<li><a href="#org1566deb">2.7. Next Step: Configure Emacs for Python Development</a></li>
</ul>
</li>
<li><a href="#org34c595a">3. Emacs Configuration for Python with Eglot, Black, and Ruff</a>
<ul>
<li><a href="#org5c31eab">3.1. Step 1: Make pyenv available to Emacs</a></li>
<li><a href="#org2e990ec">3.2. Step 2: Auto-activate pyenv virtualenvs per project</a></li>
<li><a href="#orgabd892e">3.3. Step 3: Install and configure Emacs packages</a></li>
<li><a href="#orgd6cf88d">3.4. Step 4: How to test that everything works</a>
<ul>
<li><a href="#org3c59387">3.4.1. ‚úÖ Pyvenv</a></li>
<li><a href="#org753978f">3.4.2. ‚úÖ Eglot + Pyright</a></li>
<li><a href="#org7184a56">3.4.3. ‚úÖ Black Formatter</a></li>
<li><a href="#org8e8fc8c">3.4.4. ‚úÖ Ruff Linter via Flycheck</a></li>
<li><a href="#org8b58ad9">3.4.5. ‚úÖ Flycheck Setup</a></li>
</ul>
</li>
<li><a href="#org1d85748">3.5. Optional: Manual Environment Activation</a></li>
</ul>
</li>
<li><a href="#org9a5a8bf">4. Commonly Used Eglot Features for Python Environment</a>
<ul>
<li><a href="#org1524602">4.1. Navigation and Editing</a></li>
<li><a href="#org7f7ac0a">4.2. Documentation and Feedback</a></li>
<li><a href="#orgd22bfa8">4.3. Optional: Completion with Corfu</a></li>
<li><a href="#orgc3cca31">4.4. Coming Next: Code Formatting and Linting with Black and Ruff</a></li>
</ul>
</li>
<li><a href="#org6d96916">5. Black and Ruff: Code Formatting and Linting</a>
<ul>
<li><a href="#org97487e0">5.1. Black: Automatic Code Formatter</a>
<ul>
<li><a href="#orgbb186b6">5.1.1. Why use Black?</a></li>
<li><a href="#org6b3918a">5.1.2. Example</a></li>
</ul>
</li>
<li><a href="#org8342f0d">5.2. Ruff: Python Linter and Code Fixer</a>
<ul>
<li><a href="#org15ca6c3">5.2.1. Why use Ruff?</a></li>
<li><a href="#org7efb142">5.2.2. Example</a></li>
<li><a href="#orgbea2e44">5.2.3. Emacs Integration via Flycheck</a></li>
</ul>
</li>
<li><a href="#org72c7325">5.3. Summary</a></li>
<li><a href="#org3fe3877">5.4. ‚úÖ Is Eglot Connected to Pyright?</a></li>
<li><a href="#orgbfe63a7">5.5. ‚úÖ Is Black Working?</a></li>
<li><a href="#org995a494">5.6. ‚úÖ Is Ruff Working (Linting)?</a></li>
<li><a href="#org49cf67f">5.7. üîç Minimal Debug File to Test Everything</a></li>
<li><a href="#org05b6d3d">5.8. üîß Still Not Working?</a></li>
</ul>
</li>
<li><a href="#orgbddb0e5">6. Final Thoughts and Tips</a>
<ul>
<li><a href="#orge14cf31">6.1. Tips for Daily Use</a></li>
<li><a href="#orgdb29f65">6.2. Resources</a></li>
<li><a href="#org15afb01">6.3. Acknowledgements</a></li>
</ul>
</li>
<li><a href="#orged33f1c">7. Emacs Overview</a></li>
<li><a href="#org246334f">8. Performing Replace Operations Across Multiple Files</a></li>
<li><a href="#orgdbef6b4">9. Emacs TODOs</a></li>
<li><a href="#org0c29cf5">10. Emacs Keyboard Shortcuts</a></li>
<li><a href="#org47dfeb4">11. Modes and Extensions</a>
<ul>
<li><a href="#org8a2cc16">11.1. Helm Mode</a></li>
<li><a href="#orgae19f27">11.2. Org Mode</a></li>
<li><a href="#org2f75921">11.3. AUCTeX</a></li>
<li><a href="#orgd52b501">11.4. Magit Mode</a></li>
</ul>
</li>
<li><a href="#org62b8a04">12. Emacs Jupyter Mode</a></li>
<li><a href="#orgb851edc">13. Additional Tips and Commands</a>
<ul>
<li><a href="#org9161657">13.1. Disabling Subscript in Org Mode HTML Export</a></li>
<li><a href="#org003a26c">13.2. Installing and Deleting Packages</a></li>
<li><a href="#org238904a">13.3. Code Blocks in Org Mode</a></li>
</ul>
</li>
<li><a href="#org6e686e6">14. Starting Emacs with a Specific Init File</a>
<ul>
<li><a href="#org7c6ddf9">14.1. Using the `-q` option</a></li>
<li><a href="#org91741a6">14.2. Using the `&#x2013;no-init-file` option</a></li>
<li><a href="#org8fc09c2">14.3. Loading a Specific Init File</a></li>
<li><a href="#org25cf363">14.4. Running Emacs with a Temporary Init File</a></li>
<li><a href="#org5fc9dc5">14.5. Debugging Initialization Issues</a></li>
<li><a href="#orgeb48b11">14.6. Example Usage</a></li>
</ul>
</li>
<li><a href="#orgb353d2b">15. Useful Links</a></li>
</ul>
</div>
</div>
<div id="outline-container-org0559da3" class="outline-2">
<h2 id="org0559da3"><span class="section-number-2">1.</span> Setting Up Emacs as a Python IDE with Eglot, Pyright, Black, and Ruff</h2>
<div class="outline-text-2" id="text-1">
<p>
The <b>Language Server Protocol (LSP)</b> is a standardized way for text editors and IDEs to communicate with external language servers that provide code intelligence features. Instead of each editor implementing its own language support, LSP allows the editor to delegate these features to an external server that fully understands the language.
</p>

<p>
When an editor like Emacs (with Eglot) connects to a language server, it enables features such as:
</p>

<ul class="org-ul">
<li><b>Auto-completion</b> (e.g. <code>M-x completion-at-point</code>): Suggests functions, variables, and method names.</li>
<li><b>Go to definition</b> (<code>M-.</code>): Jumps to where a function or variable is defined.</li>
<li><b>Find references</b> (<code>M-x xref-find-references</code>): Lists all occurrences of a symbol.</li>
<li><b>Hover documentation</b> (<code>M-x eldoc</code>): Shows documentation in the echo area when hovering over a symbol.</li>
<li><b>Error checking</b> (<code>M-x flymake-show-buffer-diagnostics</code>): Displays syntax and type errors in real-time.</li>
<li><b>Code actions</b> (<code>M-x eglot-code-actions</code>): Applies suggestions such as import fixes or refactorings.</li>
<li><b>Code formatting</b> (<code>M-x eglot-format</code>): Automatically reformats code.</li>
</ul>

<p>
<b><b>Emacs supports multiple LSP clients</b></b>, including:
</p>

<ul class="org-ul">
<li><code>lsp-mode</code> ‚Äì Feature-rich and customizable, but heavier and more complex.</li>
<li><code>lsp-bridge</code> ‚Äì A fast, asynchronous LSP client using Python.</li>
<li><code>company-jedi</code> ‚Äì A lightweight non-LSP completion backend (limited in functionality).</li>
</ul>

<p>
In this tutorial, we will use <b><b>Eglot</b></b> because:
</p>

<ul class="org-ul">
<li>‚úÖ It is <b>built into Emacs 29</b>, no additional installation needed.</li>
<li>‚úÖ It is <b>lightweight and minimal</b>, ideal for a smooth and fast workflow.</li>
<li>‚úÖ It provides <b>essential LSP features</b> without unnecessary complexity.</li>
</ul>

<p>
Each language requires its own LSP server. For Python, there are several options:
</p>

<ul class="org-ul">
<li><b><b>Pyright</b></b> (Recommended) ‚Äì Fast, lightweight, excellent for type checking.</li>
<li><b><b>Pylsp</b></b> ‚Äì Plugin-based and highly configurable, but slower.</li>
<li><b><b>Jedi Language Server</b></b> ‚Äì Minimal and lightweight, but lacks advanced type checking.</li>
<li><b><b>Microsoft Python Language Server</b></b> ‚Äì Deprecated and no longer maintained.</li>
</ul>

<p>
In this tutorial, we will use:
</p>
<ul class="org-ul">
<li><b><b>Eglot</b></b> as our LSP client,</li>
<li><b><b>Pyright</b></b> as the Python language server,</li>
<li><b><b>Black</b></b> for automatic code formatting,</li>
<li><b><b>Ruff</b></b> for linting and style checks.</li>
</ul>

<p>
<b>Black</b> is an opinionated Python code formatter that ensures a consistent code style. It will run automatically when saving a file.  
<b>Ruff</b> is a <b>fast</b> linter written in Rust that checks for errors, unused variables, and enforces good coding practices.
</p>


<p>
While both Black and Ruff modify code, they serve different purposes:  
</p>
<ul class="org-ul">
<li>Black reformats code to follow a consistent style.</li>
<li>Ruff identifies coding issues and enforces best practices, like unused imports or undefined variables.</li>
</ul>


<p>
Our goal is to set up an Emacs environment that makes Python and PyTorch development smooth, error-free, and efficient.
</p>

<p>
<b><b>Summary of Tools</b></b>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Tool</th>
<th scope="col" class="org-left">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">`python-mode`</td>
<td class="org-left">Major mode for editing Python code in Emacs.</td>
</tr>

<tr>
<td class="org-left">`eglot`</td>
<td class="org-left">Built-in LSP client to enable features like auto-completion, navigation, and diagnostics via language servers.</td>
</tr>

<tr>
<td class="org-left">`pyright`</td>
<td class="org-left">A fast, feature-rich Python language server.</td>
</tr>

<tr>
<td class="org-left">`black`</td>
<td class="org-left">Automatically formats Python code to follow a consistent style (PEP 8).</td>
</tr>

<tr>
<td class="org-left">`ruff`</td>
<td class="org-left">A fast linter that checks for code issues and enforces style rules.</td>
</tr>
</tbody>
</table>
</div>
<div id="outline-container-orgf184fe8" class="outline-3">
<h3 id="orgf184fe8"><span class="section-number-3">1.1.</span> References</h3>
<div class="outline-text-3" id="text-1-1">
<ul class="org-ul">
<li><a href="https://microsoft.github.io/language-server-protocol/">Language Server Protocol (LSP)</a></li>
<li><a href="https://github.com/microsoft/pyright">Pyright</a></li>
<li><a href="https://black.readthedocs.io/">Black Formatter</a></li>
<li><a href="https://docs.astral.sh/ruff/">Ruff Linter</a></li>
</ul>


<p>
Each of these tools will enhance your Emacs environment for Python and PyTorch development.
</p>
</div>
</div>
</div>
<div id="outline-container-orgfd64997" class="outline-2">
<h2 id="orgfd64997"><span class="section-number-2">2.</span> Creating a Python Virtual Environment with pyenv</h2>
<div class="outline-text-2" id="text-2">
<p>
Python virtual environments allow you to create isolated environments for different projects. This means:
</p>

<ul class="org-ul">
<li>Each project can have its own version of Python and its own installed packages.</li>
<li>You avoid conflicts between different package versions across projects.</li>
<li>You can test code in a clean environment without affecting your system Python or other projects.</li>
</ul>

<p>
Using virtual environments is considered a best practice for Python development ‚Äî especially in long-term projects, collaborative environments, or when using IDEs like Emacs, VSCode, or PyCharm.
</p>
</div>
<div id="outline-container-orgc2cd570" class="outline-3">
<h3 id="orgc2cd570"><span class="section-number-3">2.1.</span> Why use pyenv?</h3>
<div class="outline-text-3" id="text-2-1">
<p>
`pyenv` is a tool that helps manage multiple versions of Python. It also works well with `pyenv-virtualenv`, an extension that manages per-project virtual environments.
</p>

<p>
Advantages:
</p>

<ul class="org-ul">
<li>Install and switch between multiple Python versions easily.</li>
<li>Keep each project‚Äôs dependencies separate.</li>
<li>Automatically activate environments based on project folders.</li>
</ul>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org7100362" class="outline-3">
<h3 id="org7100362"><span class="section-number-3">2.2.</span> Step 1: Install `pyenv` and `pyenv-virtualenv`</h3>
<div class="outline-text-3" id="text-2-2">
<p>
On macOS, use Homebrew to install:
</p>

<div class="org-src-container">
<pre class="src src-shell">brew install pyenv
brew install pyenv-virtualenv
</pre>
</div>

<p>
Check that pyenv is available by running:
</p>

<div class="org-src-container">
<pre class="src src-shell">pyenv --version
</pre>
</div>

<p>
To make sure it works inside your terminal and Emacs, add this to your shell config file (`~/.bashrc`, or similar):
</p>

<div class="org-src-container">
<pre class="src src-shell">export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init --path)"
eval "$(pyenv virtualenv-init -)"
</pre>
</div>

<p>
Then reload your shell:
</p>

<div class="org-src-container">
<pre class="src src-shell">source ~/.bashrc
</pre>
</div>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org2d1ea83" class="outline-3">
<h3 id="org2d1ea83"><span class="section-number-3">2.3.</span> Step 2: Install Python and Create a Virtual Environment</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Once pyenv is set up, you can install a specific version of Python:
</p>

<div class="org-src-container">
<pre class="src src-shell">pyenv install --list                 # List all available Python versions
pyenv install 3.11.6                 # Install the version if not present
</pre>
</div>

<p>
Now create a virtual environment using `pyenv-virtualenv`:
</p>

<div class="org-src-container">
<pre class="src src-shell">pyenv virtualenv 3.11.6 myenv_name  # Create virtualenv named myenv_name
pyenv virtualenvs                   # List all existing virtualenvs
</pre>
</div>

<p>
This will create a new virtual environment located at:
</p>

<p>
~/Users/&lt;username&gt;/.pyenv/versions/myenv_name/
</p>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org94364e4" class="outline-3">
<h3 id="org94364e4"><span class="section-number-3">2.4.</span> Step 3: Link the Virtual Environment to Your Project</h3>
<div class="outline-text-3" id="text-2-4">
<p>
Navigate to your project folder and associate it with the virtualenv:
</p>

<div class="org-src-container">
<pre class="src src-shell">cd ~/myproject
pyenv local myenv_name
</pre>
</div>

<p>
This creates a `.python-version` file in your project directory. Tools like Emacs and shell terminals will detect this file and automatically activate the right Python environment for you.
</p>

<div class="note" id="org04a0b53">
<p>
üí° `pyenv local` enables <b>persistent</b> activation for the folder, making it ideal for development tools like Emacs or VSCode.
</p>

<p>
üí° `pyenv activate myenv_name` only activates it for your current shell session. It is useful for quick tests or temporary use.
</p>

</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Scope</th>
<th scope="col" class="org-left">Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">pyenv activate</td>
<td class="org-left">Temporary</td>
<td class="org-left">Manual activation for current shell</td>
</tr>

<tr>
<td class="org-left">pyenv local</td>
<td class="org-left">Persistent</td>
<td class="org-left">Automatic activation per project</td>
</tr>
</tbody>
</table>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-orgd466ae6" class="outline-3">
<h3 id="orgd466ae6"><span class="section-number-3">2.5.</span> Step 4: Install Python Development Tools</h3>
<div class="outline-text-3" id="text-2-5">
<p>
While inside the virtualenv, install the following Python tools:
</p>

<div class="org-src-container">
<pre class="src src-shell">pip install black ruff pyright
</pre>
</div>

<ul class="org-ul">
<li>`black`: Formats code automatically to follow standard style rules.</li>
<li>`ruff`: Lints code for common errors and enforces best practices (fast and powerful).</li>
<li>`pyright`: Language server that provides type checking, completion, and diagnostics.</li>
</ul>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org6d802cd" class="outline-3">
<h3 id="org6d802cd"><span class="section-number-3">2.6.</span> Step 5: Confirm the Installation Locations</h3>
<div class="outline-text-3" id="text-2-6">
<div class="note" id="org8f447ba">
<p>
Your virtualenv and tools are stored in:
</p>

<ul class="org-ul">
<li>Virtualenv: <code>~/Users/&lt;username&gt;/.pyenv/versions/myenv_name/</code></li>
<li>Tools (black, ruff, etc.): <code>~/Users/&lt;username&gt;/.pyenv/versions/myenv_name/bin/</code></li>
</ul>

</div>

<p>
This structure keeps your global system clean while giving you a per-project setup.
</p>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org1566deb" class="outline-3">
<h3 id="org1566deb"><span class="section-number-3">2.7.</span> Next Step: Configure Emacs for Python Development</h3>
<div class="outline-text-3" id="text-2-7">
<p>
With your Python environment ready, it's time to connect Emacs to this setup.
</p>

<p>
We‚Äôll configure:
</p>

<ul class="org-ul">
<li>Automatic virtual environment activation in Emacs</li>
<li>Eglot as the LSP client</li>
<li>Black as the auto-formatter</li>
<li>Ruff + Flycheck for linting</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org34c595a" class="outline-2">
<h2 id="org34c595a"><span class="section-number-2">3.</span> Emacs Configuration for Python with Eglot, Black, and Ruff</h2>
<div class="outline-text-2" id="text-3">
<p>
Now that your virtual environment is ready, let‚Äôs configure Emacs to:
</p>

<ul class="org-ul">
<li>Automatically activate the correct Python environment</li>
<li>Connect to the Pyright language server via Eglot</li>
<li>Format code with Black on save</li>
<li>Lint code using Ruff via Flycheck</li>
</ul>

<p>
We will use the following Emacs packages:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Package</th>
<th scope="col" class="org-left">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">`python-mode`</td>
<td class="org-left">Major mode for Python editing</td>
</tr>

<tr>
<td class="org-left">`pyvenv`</td>
<td class="org-left">Interface for managing virtualenvs in Emacs</td>
</tr>

<tr>
<td class="org-left">`eglot`</td>
<td class="org-left">Built-in LSP client in Emacs (connects to Pyright)</td>
</tr>

<tr>
<td class="org-left">`python-black`</td>
<td class="org-left">Formats code automatically using Black on save</td>
</tr>

<tr>
<td class="org-left">`flycheck`</td>
<td class="org-left">On-the-fly syntax checking with Ruff integration</td>
</tr>
</tbody>
</table>

<p>
&#x2014;
</p>
</div>
<div id="outline-container-org5c31eab" class="outline-3">
<h3 id="org5c31eab"><span class="section-number-3">3.1.</span> Step 1: Make pyenv available to Emacs</h3>
<div class="outline-text-3" id="text-3-1">
<p>
If you installed pyenv using Homebrew on macOS, you must ensure that Emacs sees `/opt/homebrew/bin`.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Add pyenv path to Emacs environment
(setenv "PATH" (concat "/opt/homebrew/bin:" (getenv "PATH")))
(add-to-list 'exec-path "/opt/homebrew/bin")
</pre>
</div>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org2e990ec" class="outline-3">
<h3 id="org2e990ec"><span class="section-number-3">3.2.</span> Step 2: Auto-activate pyenv virtualenvs per project</h3>
<div class="outline-text-3" id="text-3-2">
<p>
This function looks for a `.python-version` file and automatically activates the correct pyenv environment when you open a Python file.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my/pyenv-auto-activate ()
  "Auto-activate pyenv virtualenv from .python-version file."
  (let* ((root (locate-dominating-file default-directory ".python-version"))
         (pyenv-file (when root (expand-file-name ".python-version" root))))
    (when (and pyenv-file (file-exists-p pyenv-file))
      (let ((env-name (string-trim (with-temp-buffer
                                     (insert-file-contents pyenv-file)
                                     (buffer-string)))))
        (let ((full-path (expand-file-name env-name
                                           (expand-file-name "versions" (getenv "PYENV_ROOT")))))
          (when (file-directory-p full-path)
            (pyvenv-activate full-path)))))))

(add-hook 'python-mode-hook #'my/pyenv-auto-activate)
</pre>
</div>

<p>
This will auto-activate your environment as long as your project contains a `.python-version` file created via `pyenv local &lt;env&gt;`.
</p>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-orgabd892e" class="outline-3">
<h3 id="orgabd892e"><span class="section-number-3">3.3.</span> Step 3: Install and configure Emacs packages</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Make sure you have the following packages installed via `M-x package-install` or using `use-package`.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Python editing support
(use-package python
  :ensure t
  :mode ("\\.py\\'" . python-mode))

;; Virtualenv support
(use-package pyvenv
  :ensure t
  :config
  (pyvenv-mode 1)
  :hook (python-mode . pyvenv-tracking-mode))

;; LSP client: Eglot + Pyright
(use-package eglot
  :ensure t
  :hook (python-mode . eglot-ensure)
  :config
  (add-to-list 'eglot-server-programs
               '(python-mode . ("pyright-langserver" "--stdio"))))

;; Auto-format code using Black
(use-package python-black
  :ensure t
  :after python
  :hook (python-mode . python-black-on-save-mode))

;; Real-time linting using Flycheck and Ruff
(use-package flycheck
  :ensure t
  :hook (python-mode . flycheck-mode))
</pre>
</div>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-orgd6cf88d" class="outline-3">
<h3 id="orgd6cf88d"><span class="section-number-3">3.4.</span> Step 4: How to test that everything works</h3>
<div class="outline-text-3" id="text-3-4">
<p>
Open a `.py` file inside your project folder (which has a `.python-version` file), and check the following:
</p>
</div>
<div id="outline-container-org3c59387" class="outline-4">
<h4 id="org3c59387"><span class="section-number-4">3.4.1.</span> ‚úÖ Pyvenv</h4>
<div class="outline-text-4" id="text-3-4-1">
<ul class="org-ul">
<li>Emacs should automatically activate the virtualenv.</li>
<li><p>
Confirm with:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">M-: pyvenv-virtual-env
</pre>
</div></li>
<li>‚úîÔ∏è Should return the path of your pyenv-managed environment.</li>
</ul>
</div>
</div>
<div id="outline-container-org753978f" class="outline-4">
<h4 id="org753978f"><span class="section-number-4">3.4.2.</span> ‚úÖ Eglot + Pyright</h4>
<div class="outline-text-4" id="text-3-4-2">
<ul class="org-ul">
<li>You should see: <b>"Connected to pyright!"</b> in the minibuffer.</li>
<li>Try:
<ul class="org-ul">
<li><code>M-.</code> ‚Üí Jump to definition</li>
<li><code>M-x eglot-code-actions</code> ‚Üí Organize imports or fix issues</li>
</ul></li>
</ul>
</div>
</div>
<div id="outline-container-org7184a56" class="outline-4">
<h4 id="org7184a56"><span class="section-number-4">3.4.3.</span> ‚úÖ Black Formatter</h4>
<div class="outline-text-4" id="text-3-4-3">
<ul class="org-ul">
<li>Add some poorly formatted Python code.</li>
<li>Save the buffer.</li>
<li>‚úîÔ∏è It should be automatically reformatted.</li>
</ul>
</div>
</div>
<div id="outline-container-org8e8fc8c" class="outline-4">
<h4 id="org8e8fc8c"><span class="section-number-4">3.4.4.</span> ‚úÖ Ruff Linter via Flycheck</h4>
<div class="outline-text-4" id="text-3-4-4">
<ul class="org-ul">
<li>Add a line like <code>import os</code> without using it.</li>
<li><p>
Run:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">M-x flycheck-list-errors
</pre>
</div></li>
<li>‚úîÔ∏è Should report a linting warning.</li>
</ul>
</div>
</div>
<div id="outline-container-org8b58ad9" class="outline-4">
<h4 id="org8b58ad9"><span class="section-number-4">3.4.5.</span> ‚úÖ Flycheck Setup</h4>
<div class="outline-text-4" id="text-3-4-5">
<ul class="org-ul">
<li><p>
Run:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">M-x flycheck-verify-setup
</pre>
</div></li>
<li>‚úîÔ∏è `python-ruff` should be listed as an active checker.</li>
</ul>

<p>
&#x2014;
</p>
</div>
</div>
</div>
<div id="outline-container-org1d85748" class="outline-3">
<h3 id="org1d85748"><span class="section-number-3">3.5.</span> Optional: Manual Environment Activation</h3>
<div class="outline-text-3" id="text-3-5">
<p>
If you want to manually activate a pyenv virtualenv in Emacs:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">M-x pyvenv-activate
/Users/&lt;username&gt;/.pyenv/versions/myenv_name
</pre>
</div>

<p>
&#x2014;
</p>

<p>
The next section will cover:
</p>
</div>
</div>
</div>
<div id="outline-container-org9a5a8bf" class="outline-2">
<h2 id="org9a5a8bf"><span class="section-number-2">4.</span> Commonly Used Eglot Features for Python Environment</h2>
<div class="outline-text-2" id="text-4">
<p>
Once Eglot is enabled in a Python buffer, you'll see this in the minibuffer:
</p>

<p>
üì° <b>Connected to pyright!</b>
</p>

<p>
This means Emacs is now talking to the Pyright language server via the LSP protocol. You now have access to rich features like code navigation, refactoring, formatting, and more ‚Äî just like in a full-featured IDE.
</p>

<p>
Eglot integrates seamlessly with other Emacs tools like `eldoc`, `flymake`, and `completion-at-point`, making it both lightweight and powerful.
</p>

<p>
&#x2014;
</p>
</div>
<div id="outline-container-org1524602" class="outline-3">
<h3 id="org1524602"><span class="section-number-3">4.1.</span> Navigation and Editing</h3>
<div class="outline-text-3" id="text-4-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Action</th>
<th scope="col" class="org-left">Command / Keybinding</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Go to Definition</td>
<td class="org-left">`M-.`</td>
<td class="org-left">Jump to where a function, class, or variable is defined</td>
</tr>

<tr>
<td class="org-left">Find References</td>
<td class="org-left">`M-?`</td>
<td class="org-left">List all places the symbol is used in the project</td>
</tr>

<tr>
<td class="org-left">Rename Symbol</td>
<td class="org-left">`M-x eglot-rename`</td>
<td class="org-left">Rename the symbol under cursor across the project</td>
</tr>

<tr>
<td class="org-left">Code Actions</td>
<td class="org-left">`M-x eglot-code-actions`</td>
<td class="org-left">Show refactorings and quick fixes (like import suggestions)</td>
</tr>
</tbody>
</table>

<p>
üí° <b>Tip</b>: These features work best when your virtual environment is active and your buffer is saved.
</p>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org7f7ac0a" class="outline-3">
<h3 id="org7f7ac0a"><span class="section-number-3">4.2.</span> Documentation and Feedback</h3>
<div class="outline-text-3" id="text-4-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Feature</th>
<th scope="col" class="org-left">Command / Behavior</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Hover Documentation</td>
<td class="org-left">Move cursor over symbol</td>
<td class="org-left">Shows function/type info in echo area (via `eldoc`)</td>
</tr>

<tr>
<td class="org-left">Show Diagnostics</td>
<td class="org-left">`M-x flymake-show-buffer-diagnostics`</td>
<td class="org-left">Show inline errors and warnings (from Pyright)</td>
</tr>

<tr>
<td class="org-left">Format Buffer</td>
<td class="org-left">`M-x eglot-format-buffer`</td>
<td class="org-left">Format entire buffer using the server's formatter</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>Diagnostics are powered by Flymake (built into Emacs).</li>
<li>Formatting works if the language server supports it (Pyright does not format ‚Äî we use Black instead).</li>
</ul>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-orgd22bfa8" class="outline-3">
<h3 id="orgd22bfa8"><span class="section-number-3">4.3.</span> Optional: Completion with Corfu</h3>
<div class="outline-text-3" id="text-4-3">
<p>
While Emacs has built-in completion, the <b><b>Corfu</b></b> package offers a better UI for completions triggered by Eglot.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package corfu
  :ensure t
  :init
  (global-corfu-mode)
  :custom
  (corfu-auto t)                ;; Enable auto-completion
  (corfu-auto-delay 0.1)        ;; Delay before suggestions
  (corfu-auto-prefix 1)         ;; Trigger after 1 character
  (corfu-cycle t)               ;; Wrap around suggestions
  (corfu-echo-documentation t) ;; Show documentation popup
  :config
  (corfu-popupinfo-mode))      ;; Enable popup for docs (GUI only)
</pre>
</div>

<p>
To allow Corfu in the minibuffer (e.g., for `M-:` or `eval-expression`), add:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun my/corfu-enable-in-minibuffer ()
  "Enable Corfu in the minibuffer if appropriate."
  (when (where-is-internal #'completion-at-point (list (current-local-map)))
    (setq-local corfu-auto nil)
    (corfu-mode 1)))

(add-hook 'minibuffer-setup-hook #'my/corfu-enable-in-minibuffer)
</pre>
</div>

<p>
Corfu will now handle completions across your project smoothly, enhancing the experience without relying on external LSP UI tools.
</p>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-orgc3cca31" class="outline-3">
<h3 id="orgc3cca31"><span class="section-number-3">4.4.</span> Coming Next: Code Formatting and Linting with Black and Ruff</h3>
<div class="outline-text-3" id="text-4-4">
<p>
You now have a fully functional LSP setup for Python in Emacs. In the next section, we‚Äôll focus on formatting and linting your code automatically using:
</p>

<ul class="org-ul">
<li>`black`: Python formatter</li>
<li>`ruff`: Fast linter with autofix support</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org6d96916" class="outline-2">
<h2 id="org6d96916"><span class="section-number-2">5.</span> Black and Ruff: Code Formatting and Linting</h2>
<div class="outline-text-2" id="text-5">
<p>
A great Python development setup doesn‚Äôt just work ‚Äî it also helps keep your code clean and consistent.
</p>

<p>
This is where <b><b>Black</b></b> (a code formatter) and <b><b>Ruff</b></b> (a linter) come in. Together, they enforce consistent code style, catch common mistakes, and help you write more readable and maintainable code.
</p>

<p>
&#x2014;
</p>
</div>
<div id="outline-container-org97487e0" class="outline-3">
<h3 id="org97487e0"><span class="section-number-3">5.1.</span> Black: Automatic Code Formatter</h3>
<div class="outline-text-3" id="text-5-1">
<p>
Black is a <b><b>highly opinionated code formatter</b></b> for Python. It reformats your code automatically to follow consistent style rules.
</p>
</div>
<div id="outline-container-orgbb186b6" class="outline-4">
<h4 id="orgbb186b6"><span class="section-number-4">5.1.1.</span> Why use Black?</h4>
<div class="outline-text-4" id="text-5-1-1">
<ul class="org-ul">
<li>üßº Automatically enforces a uniform code style.</li>
<li>üß† Removes debates about formatting choices.</li>
<li>üß© Ensures <b><b>PEP 8</b></b> compliance.</li>
<li>üíæ Runs every time you save a file (in our Emacs setup).</li>
</ul>
</div>
</div>
<div id="outline-container-org6b3918a" class="outline-4">
<h4 id="org6b3918a"><span class="section-number-4">5.1.2.</span> Example</h4>
<div class="outline-text-4" id="text-5-1-2">
<ul class="org-ul">
<li><p>
Before formatting:
</p>
<div class="org-src-container">
<pre class="src src-python">def my_function(x,y): return x+  y
</pre>
</div></li>

<li><p>
After running Black:
</p>
<div class="org-src-container">
<pre class="src src-python">def my_function(x, y):
    return x + y
</pre>
</div></li>
</ul>

<p>
Black integrates with Emacs via the <code>python-black-on-save-mode</code>, so no manual steps are required ‚Äî just save the file!
</p>

<p>
&#x2014;
</p>
</div>
</div>
</div>
<div id="outline-container-org8342f0d" class="outline-3">
<h3 id="org8342f0d"><span class="section-number-3">5.2.</span> Ruff: Python Linter and Code Fixer</h3>
<div class="outline-text-3" id="text-5-2">
<p>
Ruff is a <b><b>blazing-fast linter and code fixer</b></b> written in Rust. Unlike traditional linters, it's fast enough to run on every keystroke ‚Äî but even once per save is plenty.
</p>
</div>
<div id="outline-container-org15ca6c3" class="outline-4">
<h4 id="org15ca6c3"><span class="section-number-4">5.2.1.</span> Why use Ruff?</h4>
<div class="outline-text-4" id="text-5-2-1">
<ul class="org-ul">
<li>üêç Catches <b><b>syntax errors</b></b>, <b><b>unused variables</b></b>, and <b><b>style issues</b></b>.</li>
<li>üöÄ <b><b>Much faster</b></b> than `flake8`, `pylint`, or `pycodestyle`.</li>
<li>üîß Can automatically fix many issues (`ruff &#x2013;fix` or via Emacs).</li>
</ul>
</div>
</div>
<div id="outline-container-org7efb142" class="outline-4">
<h4 id="org7efb142"><span class="section-number-4">5.2.2.</span> Example</h4>
<div class="outline-text-4" id="text-5-2-2">
<ul class="org-ul">
<li><p>
Problematic code:
</p>
<div class="org-src-container">
<pre class="src src-python">import numpy as np  # Unused import

x = 10  # Unused variable
print("Hello, World!")
</pre>
</div></li>

<li>Ruff detects:
test.py:1:1: F401 'numpy as np' imported but unused test.py:3:1: F841 local variable 'x' is assigned to but never used</li>
</ul>


<ul class="org-ul">
<li>You can fix these:</li>
<li>In the terminal: <code>ruff --fix test.py</code></li>
<li>In Emacs: <code>M-x eglot-code-actions</code> (choose Ruff‚Äôs autofix option)</li>
</ul>
</div>
</div>
<div id="outline-container-orgbea2e44" class="outline-4">
<h4 id="orgbea2e44"><span class="section-number-4">5.2.3.</span> Emacs Integration via Flycheck</h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
If you‚Äôve installed `flycheck` and `ruff`, Emacs will show linting issues inline as you type or save.
</p>

<p>
To view them:
</p>

<ul class="org-ul">
<li>Run: <code>M-x flycheck-list-errors</code></li>
<li>Hover over underlined code to view tooltips</li>
<li>Run: <code>M-x flycheck-verify-setup</code> to confirm `python-ruff` is active</li>
</ul>

<p>
You can also customize the behavior of Flycheck or integrate Ruff directly as a checker if needed.
</p>

<p>
&#x2014;
</p>
</div>
</div>
</div>
<div id="outline-container-org72c7325" class="outline-3">
<h3 id="org72c7325"><span class="section-number-3">5.3.</span> Summary</h3>
<div class="outline-text-3" id="text-5-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Tool</th>
<th scope="col" class="org-left">Purpose</th>
<th scope="col" class="org-left">Runs on Save?</th>
<th scope="col" class="org-left">Can Autofix?</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Black</td>
<td class="org-left">Code formatting</td>
<td class="org-left">‚úÖ</td>
<td class="org-left">‚úÖ (auto)</td>
</tr>

<tr>
<td class="org-left">Ruff</td>
<td class="org-left">Linting &amp; fixes</td>
<td class="org-left">‚úÖ (via Flycheck)</td>
<td class="org-left">‚úÖ (via `&#x2013;fix` or code actions)</td>
</tr>
</tbody>
</table>

<p>
With <b><b>Black</b></b> and <b><b>Ruff</b></b> set up, your Emacs environment ensures your code is:
</p>

<ul class="org-ul">
<li>‚úÖ Clean</li>
<li>‚úÖ Well-formatted</li>
<li>‚úÖ Free of common mistakes</li>
</ul>



<p>
If it points to `/usr/bin/python`, your virtualenv is not active.
</p>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org3fe3877" class="outline-3">
<h3 id="org3fe3877"><span class="section-number-3">5.4.</span> ‚úÖ Is Eglot Connected to Pyright?</h3>
<div class="outline-text-3" id="text-5-4">
<p>
When you open a `.py` file, Eglot should automatically connect. Look for:
</p>

<p>
üì° <b>Connected to pyright!</b> in the minibuffer.
</p>

<p>
You can also manually check with:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">M-x eglot
</pre>
</div>

<p>
If Eglot fails to connect:
</p>

<ul class="org-ul">
<li>Check if `pyright` is installed in the virtualenv: `pip show pyright`</li>
<li>Try running `pyright` from the terminal to confirm it works</li>
<li>Restart Emacs</li>
</ul>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-orgbfe63a7" class="outline-3">
<h3 id="orgbfe63a7"><span class="section-number-3">5.5.</span> ‚úÖ Is Black Working?</h3>
<div class="outline-text-3" id="text-5-5">
<p>
To test that Black is formatting on save:
</p>

<ol class="org-ol">
<li><p>
Paste badly formatted code into a Python file:
</p>

<div class="org-src-container">
<pre class="src src-python">def test(x,y): return x+ y
</pre>
</div></li>

<li>Save the buffer.</li>
<li><p>
‚úîÔ∏è Code should be auto-formatted like this:
</p>

<div class="org-src-container">
<pre class="src src-python">def test(x, y):
    return x + y
</pre>
</div></li>
</ol>

<p>
If it‚Äôs not formatting:
</p>

<ul class="org-ul">
<li><p>
Make sure `python-black-on-save-mode` is active:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">M-: (bound-and-true-p python-black-on-save-mode) RET
</pre>
</div></li>

<li>Check if Black is installed: `pip show black`</li>
</ul>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org995a494" class="outline-3">
<h3 id="org995a494"><span class="section-number-3">5.6.</span> ‚úÖ Is Ruff Working (Linting)?</h3>
<div class="outline-text-3" id="text-5-6">
<ol class="org-ol">
<li><p>
Add some code with obvious issues:
</p>
<div class="org-src-container">
<pre class="src src-python">import os  # unused

x = 10     # unused
</pre>
</div></li>

<li>Save the file.</li>
<li><p>
Run:
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">M-x flycheck-list-errors
</pre>
</div></li>

<li>‚úîÔ∏è You should see warnings from `ruff`, e.g.:</li>
</ol>

<p>
test.py:1:1: F401 'os' imported but unused test.py:3:1: F841 local variable 'x' is assigned to but never used
</p>


<p>
Also verify your active checkers with:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">M-x flycheck-verify-setup
</pre>
</div>

<ul class="org-ul">
<li>‚úîÔ∏è You should see: `Checker: python-ruff`</li>
<li>‚ùå If not listed, ensure `ruff` is installed in the active environment</li>
</ul>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org49cf67f" class="outline-3">
<h3 id="org49cf67f"><span class="section-number-3">5.7.</span> üîç Minimal Debug File to Test Everything</h3>
<div class="outline-text-3" id="text-5-7">
<p>
Here is a small Python file you can paste into Emacs to test your setup:
</p>

<div class="org-src-container">
<pre class="src src-python"># test.py
import os  # unused import

def test(  x ,y): return x+y   # bad formatting and unused var

x = 5
</pre>
</div>

<p>
Save the file and verify that:
</p>

<ul class="org-ul">
<li>Black reformats it</li>
<li>Ruff shows diagnostics via Flycheck</li>
<li>Eglot connects and offers navigation / code actions</li>
</ul>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org05b6d3d" class="outline-3">
<h3 id="org05b6d3d"><span class="section-number-3">5.8.</span> üîß Still Not Working?</h3>
<div class="outline-text-3" id="text-5-8">
<ul class="org-ul">
<li>Try restarting Emacs and reopening the file.</li>
<li>Open `*Messages*` buffer (<code>C-h e</code>) to see any warnings.</li>
<li>Open `*EGLOT (project-name)*` buffer for LSP logs.</li>
<li>Run: `M-x describe-variable RET eglot-server-programs RET`</li>
<li>Check if `pyright` is available with `M-x shell-command RET pyright &#x2013;version`</li>
</ul>

<p>
&#x2014;
</p>

<p>
This section helps you systematically verify each component of your Emacs Python IDE setup.
</p>
</div>
</div>
</div>
<div id="outline-container-orgbddb0e5" class="outline-2">
<h2 id="orgbddb0e5"><span class="section-number-2">6.</span> Final Thoughts and Tips</h2>
<div class="outline-text-2" id="text-6">
<p>
You've now set up Emacs as a full-featured Python IDE using:
</p>

<ul class="org-ul">
<li>‚úÖ `eglot` for Language Server integration</li>
<li>‚úÖ `pyright` for intelligent code navigation and type checking</li>
<li>‚úÖ `black` for automatic code formatting</li>
<li>‚úÖ `ruff` for fast linting and code fixes</li>
<li>‚úÖ `pyenv` + `pyvenv` for per-project virtual environments</li>
<li>‚úÖ `corfu` for clean and modern completions</li>
<li>‚úÖ `flycheck` for real-time lint feedback</li>
</ul>

<p>
This setup strikes a balance between being <b>lightweight</b>, <b>modern</b>, and <b>completely customizable</b> ‚Äî all within Emacs!
</p>

<p>
&#x2014;
</p>
</div>
<div id="outline-container-orge14cf31" class="outline-3">
<h3 id="orge14cf31"><span class="section-number-3">6.1.</span> Tips for Daily Use</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li>Always create a `.python-version` in each project to auto-activate the environment.</li>
<li>Run <code>M-x flycheck-verify-setup</code> occasionally to ensure the right checkers are active.</li>
<li>Use <code>M-x eglot-code-actions</code> regularly for auto-imports, refactors, and quick fixes.</li>
<li>Use <code>C-c C-f</code> (or bind it yourself) to quickly run <code>eglot-format-buffer</code> if needed.</li>
<li>Save often to trigger Black and Ruff integrations.</li>
</ul>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-orgdb29f65" class="outline-3">
<h3 id="orgdb29f65"><span class="section-number-3">6.2.</span> Resources</h3>
<div class="outline-text-3" id="text-6-2">
<ul class="org-ul">
<li><a href="https://github.com/joaotavora/eglot">Eglot on GitHub</a></li>
<li><a href="https://github.com/microsoft/pyright">Pyright Language Server</a></li>
<li><a href="https://black.readthedocs.io">Black Formatter Docs</a></li>
<li><a href="https://docs.astral.sh/ruff">Ruff Linter Docs</a></li>
<li><a href="https://github.com/pyenv/pyenv">pyenv on GitHub</a></li>
</ul>

<p>
&#x2014;
</p>
</div>
</div>
<div id="outline-container-org15afb01" class="outline-3">
<h3 id="org15afb01"><span class="section-number-3">6.3.</span> Acknowledgements</h3>
<div class="outline-text-3" id="text-6-3">
<p>
This tutorial was created to provide a lightweight and efficient Python development environment inside Emacs, ideal for research, teaching, or professional software development.
</p>
</div>
</div>
</div>
<div id="outline-container-orged33f1c" class="outline-2">
<h2 id="orged33f1c"><span class="section-number-2">7.</span> Emacs Overview</h2>
<div class="outline-text-2" id="text-7">
<ul class="org-ul">
<li>Emacs is a powerful, extensible, and customizable text editor known for its versatility and extensive package support. Emacs can be configured to support a wide range of programming and text-editing needs, from code editing to project management, publishing, and more.</li>
</ul>
</div>
</div>
<div id="outline-container-org246334f" class="outline-2">
<h2 id="org246334f"><span class="section-number-2">8.</span> Performing Replace Operations Across Multiple Files</h2>
<div class="outline-text-2" id="text-8">
<ul class="org-ul">
<li>Emacs offers ways to perform search and replace operations across multiple files.</li>
<li><a href="https://www.gnu.org/software/emacs/manual/html_node/efaq/Replacing-text-across-multiple-files.html">GNU Emacs Manual: Replacing Text Across Multiple Files</a></li>
<li><a href="https://stackoverflow.com/questions/270930/using-emacs-to-recursively-find-and-replace-in-text-files-not-already-open">Stack Overflow: Find and Replace in Multiple Files</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">;; Using Dired mode (directory mode):
;; 1. Open Dired mode with `M-x dired` or `C-x d`.
;; 2. Mark files to operate on with `t`.
;; 3. Press `Q` to start a `query-replace-regexp` on the marked files.
;; 4. Press `!` to accept all replacements.

;; Alternatively, use `tags-query-replace` with a TAGS file.
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdbef6b4" class="outline-2">
<h2 id="orgdbef6b4"><span class="section-number-2">9.</span> Emacs TODOs</h2>
<div class="outline-text-2" id="text-9">
<ul class="org-ul">
<li class="off"><code>[&#xa0;]</code> Learn how to bookmark a line and return to it later.</li>
</ul>
</div>
</div>
<div id="outline-container-org0c29cf5" class="outline-2">
<h2 id="org0c29cf5"><span class="section-number-2">10.</span> Emacs Keyboard Shortcuts</h2>
<div class="outline-text-2" id="text-10">
<ul class="org-ul">
<li><a href="https://www.reddit.com/r/emacs/comments/x43eie/heres_a_list_of_emacs_keyboard_shortcuts_that_i/?utm_source=share&amp;utm_medium=ios_app&amp;utm_name=iossmf">Reddit List of Emacs Shortcuts</a></li>
<li><a href="https://github.com/VernonGrant/emacs-keyboard-shortcuts">GitHub Repository of Emacs Shortcuts</a></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left"><b>Keyboard Shortcut</b></th>
<th scope="col" class="org-left"><b>Function</b></th>
<th scope="col" class="org-left"><b>Description</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-h i</td>
<td class="org-left">Info mode</td>
<td class="org-left">Access manuals and info about modes</td>
</tr>

<tr>
<td class="org-left">C-h k</td>
<td class="org-left">Describe key</td>
<td class="org-left">Get information about a specific key</td>
</tr>

<tr>
<td class="org-left">C-h m</td>
<td class="org-left">Describe mode</td>
<td class="org-left">Displays documentation for the current mode</td>
</tr>

<tr>
<td class="org-left">C-x C-q</td>
<td class="org-left">Toggle read-only mode</td>
<td class="org-left">Enable or disable read-only mode</td>
</tr>

<tr>
<td class="org-left">C-x n s</td>
<td class="org-left">Narrow to subtree</td>
<td class="org-left">Narrow the buffer to the current subtree</td>
</tr>

<tr>
<td class="org-left">C-c ""</td>
<td class="org-left">Insert Zotero item</td>
<td class="org-left">Insert a reference link from Zotero</td>
</tr>

<tr>
<td class="org-left">F10</td>
<td class="org-left">Open menu</td>
<td class="org-left">Access menu items via keyboard</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org47dfeb4" class="outline-2">
<h2 id="org47dfeb4"><span class="section-number-2">11.</span> Modes and Extensions</h2>
<div class="outline-text-2" id="text-11">
</div>
<div id="outline-container-org8a2cc16" class="outline-3">
<h3 id="org8a2cc16"><span class="section-number-3">11.1.</span> Helm Mode</h3>
<div class="outline-text-3" id="text-11-1">
<ul class="org-ul">
<li>Helm provides a powerful completion and narrowing framework for Emacs.</li>
<li><a href="https://wikemacs.org/wiki/Helm">Quick Helm Guide</a></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Command</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-t</td>
<td class="org-left">Toggle horizontal/vertical view</td>
</tr>

<tr>
<td class="org-left">C-c ?</td>
<td class="org-left">Show Helm help</td>
</tr>

<tr>
<td class="org-left">TAB</td>
<td class="org-left">Access actions menu</td>
</tr>

<tr>
<td class="org-left">C-SPC</td>
<td class="org-left">Mark multiple candidates for actions</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgae19f27" class="outline-3">
<h3 id="orgae19f27"><span class="section-number-3">11.2.</span> Org Mode</h3>
<div class="outline-text-3" id="text-11-2">
<ul class="org-ul">
<li>Org mode enables text organization, task management, and code execution within Emacs.</li>
</ul>

<p>
<b>*</b> Previewing LaTeX in Org Mode
</p>
<ul class="org-ul">
<li>Add `#+STARTUP: latexpreview` to enable LaTeX previewing.</li>
<li>Use `C-c C-x C-l` to preview LaTeX at point.</li>
<li><a href="https://orgmode.org/manual/Previewing-LaTeX-fragments.html">LaTeX Fragment Preview Documentation</a></li>
</ul>
</div>
</div>
<div id="outline-container-org2f75921" class="outline-3">
<h3 id="org2f75921"><span class="section-number-3">11.3.</span> AUCTeX</h3>
<div class="outline-text-3" id="text-11-3">
<ul class="org-ul">
<li>AUCTeX enhances Emacs for LaTeX editing, with commands for compiling, inserting citations, and navigating structured documents.</li>
<li><a href="https://weikaichen.gitee.io/en/post/emacs-academic-tools/">Useful AUCTeX Tricks</a></li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Shortcut</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-c =</td>
<td class="org-left">Show table of contents</td>
</tr>

<tr>
<td class="org-left">C-c [</td>
<td class="org-left">Insert citation</td>
</tr>

<tr>
<td class="org-left">C-c )</td>
<td class="org-left">Insert cross-reference</td>
</tr>

<tr>
<td class="org-left">C-c ~</td>
<td class="org-left">Enable LaTeX math mode</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-orgd52b501" class="outline-3">
<h3 id="orgd52b501"><span class="section-number-3">11.4.</span> Magit Mode</h3>
<div class="outline-text-3" id="text-11-4">
<ul class="org-ul">
<li>Magit provides a Git interface within Emacs for version control.</li>
</ul>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Shortcut</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">C-x g</td>
<td class="org-left">Open Magit status</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-left">Stage changes</td>
</tr>

<tr>
<td class="org-left">c c</td>
<td class="org-left">Commit</td>
</tr>

<tr>
<td class="org-left">P u</td>
<td class="org-left">Push to upstream</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="outline-container-org62b8a04" class="outline-2">
<h2 id="org62b8a04"><span class="section-number-2">12.</span> Emacs Jupyter Mode</h2>
<div class="outline-text-2" id="text-12">
<ul class="org-ul">
<li>`emacs-jupyter` enables Jupyter notebook support within Emacs, providing interactive data analysis and exploration.</li>
<li><a href="https://github.com/emacs-jupyter/jupyter">Emacs Jupyter GitHub Page</a></li>
</ul>

<div class="org-src-container">
<pre class="src src-jupyter">import pandas as pd
data = [[1, 2], [3, 4]]
pd.DataFrame(data, columns=["Foo", "Bar"])
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb851edc" class="outline-2">
<h2 id="orgb851edc"><span class="section-number-2">13.</span> Additional Tips and Commands</h2>
<div class="outline-text-2" id="text-13">
</div>
<div id="outline-container-org9161657" class="outline-3">
<h3 id="org9161657"><span class="section-number-3">13.1.</span> Disabling Subscript in Org Mode HTML Export</h3>
<div class="outline-text-3" id="text-13-1">
<ul class="org-ul">
<li><p>
To prevent underscores from creating subscripts, add the following option:
</p></li>
</ul>
</div>
</div>
<div id="outline-container-org003a26c" class="outline-3">
<h3 id="org003a26c"><span class="section-number-3">13.2.</span> Installing and Deleting Packages</h3>
<div class="outline-text-3" id="text-13-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">;; To install a package
M-x package-install

;; To delete a package
M-x package-delete
</pre>
</div>
</div>
</div>
<div id="outline-container-org238904a" class="outline-3">
<h3 id="org238904a"><span class="section-number-3">13.3.</span> Code Blocks in Org Mode</h3>
<div class="outline-text-3" id="text-13-3">
<ul class="org-ul">
<li>Use `C-c C-c` to execute code blocks in Org mode.</li>
</ul>

<div class="org-src-container">
<pre class="src src-python">friends = ['pisu', 'ada', 'makmus']
for i in friends:
    print("Hello " + i)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org6e686e6" class="outline-2">
<h2 id="org6e686e6"><span class="section-number-2">14.</span> Starting Emacs with a Specific Init File</h2>
<div class="outline-text-2" id="text-14">
<p>
To start Emacs with a specific initialization file, you can use the `-q`, `&#x2013;no-init-file`, or `-l FILENAME` options when launching Emacs.
</p>
</div>
<div id="outline-container-org7c6ddf9" class="outline-3">
<h3 id="org7c6ddf9"><span class="section-number-3">14.1.</span> Using the `-q` option</h3>
<div class="outline-text-3" id="text-14-1">
<p>
If you want to start Emacs without loading any user init file (`~/.emacs`, `~/.emacs.d/init.el`, or `~/.config/emacs/init.el`), use:
</p>
<div class="org-src-container">
<pre class="src src-sh">emacs -q
</pre>
</div>
<p>
This ensures that no user configuration is loaded.
</p>
</div>
</div>
<div id="outline-container-org91741a6" class="outline-3">
<h3 id="org91741a6"><span class="section-number-3">14.2.</span> Using the `&#x2013;no-init-file` option</h3>
<div class="outline-text-3" id="text-14-2">
<p>
This is equivalent to `-q`:
</p>
<div class="org-src-container">
<pre class="src src-sh">emacs --no-init-file
</pre>
</div>
</div>
</div>
<div id="outline-container-org8fc09c2" class="outline-3">
<h3 id="org8fc09c2"><span class="section-number-3">14.3.</span> Loading a Specific Init File</h3>
<div class="outline-text-3" id="text-14-3">
<p>
To start Emacs with a custom initialization file, use the `-l` or `&#x2013;load` option followed by the filename:
</p>
<div class="org-src-container">
<pre class="src src-sh">emacs -l ~/.emacs.d/custom-init.el
</pre>
</div>
<p>
or
</p>
<div class="org-src-container">
<pre class="src src-sh">emacs --load ~/.config/emacs/my-init.el
</pre>
</div>
<p>
This loads the specified file as the initialization file.
</p>
</div>
</div>
<div id="outline-container-org25cf363" class="outline-3">
<h3 id="org25cf363"><span class="section-number-3">14.4.</span> Running Emacs with a Temporary Init File</h3>
<div class="outline-text-3" id="text-14-4">
<p>
If you want to run Emacs with a completely different configuration, you can specify a different home directory using the `&#x2013;init-directory` (Emacs 29+) or set `HOME`:
</p>
<div class="org-src-container">
<pre class="src src-sh">HOME=~/my-emacs-config emacs
</pre>
</div>
<p>
This makes Emacs look for an init file in `~/my-emacs-config/.emacs.d/init.el` instead of the default location.
</p>

<p>
Alternatively, you can start Emacs with `&#x2013;init-directory` (Emacs 29+):
</p>
<div class="org-src-container">
<pre class="src src-sh">emacs --init-directory ~/my-emacs-config
</pre>
</div>
<p>
This allows you to use a custom Emacs directory without changing `HOME`.
</p>
</div>
</div>
<div id="outline-container-org5fc9dc5" class="outline-3">
<h3 id="org5fc9dc5"><span class="section-number-3">14.5.</span> Debugging Initialization Issues</h3>
<div class="outline-text-3" id="text-14-5">
<p>
If you suspect issues in your init file, you can start Emacs in debug mode:
</p>
<div class="org-src-container">
<pre class="src src-sh">emacs --debug-init
</pre>
</div>
<p>
This prints errors that occur during initialization.
</p>

<p>
If you want to temporarily bypass init file errors and start with a clean session, use:
</p>
<div class="org-src-container">
<pre class="src src-sh">emacs -Q
</pre>
</div>
<p>
This is similar to `-q` but also skips loading site-wide configurations.
</p>
</div>
</div>
<div id="outline-container-orgeb48b11" class="outline-3">
<h3 id="orgeb48b11"><span class="section-number-3">14.6.</span> Example Usage</h3>
<div class="outline-text-3" id="text-14-6">
<p>
To load a custom init file and run in debug mode:
</p>
<div class="org-src-container">
<pre class="src src-sh">emacs --debug-init -l ~/.config/emacs/alternative-init.el
</pre>
</div>

<p>
For a minimal Emacs session without user configuration:
</p>
<div class="org-src-container">
<pre class="src src-sh">emacs -Q
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgb353d2b" class="outline-2">
<h2 id="orgb353d2b"><span class="section-number-2">15.</span> Useful Links</h2>
<div class="outline-text-2" id="text-15">
<ul class="org-ul">
<li><a href="https://systemcrafters.net/publishing-websites-with-org-mode/automated-site-publishing/">Automated Org Mode Website Publishing</a></li>
<li><a href="https://plantuml.com/emacs">Using PlantUML in Emacs</a></li>
<li><a href="https://orgmode.org/guide/Capture.html">Org Mode Capture Templates</a></li>
<li><a href="https://emacsdocs.org/docs/org/Capture-templates">Org Capture Documentation</a></li>
<li><a href="https://github.com/redguardtoo/mastering-emacs-in-one-year-guide/blob/master/guide-en.org">Mastering Emacs in One Year Guide</a></li>
</ul>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: sbilmis</p>
<p class="date">Created: 2025-04-06 Sun 17:49</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
