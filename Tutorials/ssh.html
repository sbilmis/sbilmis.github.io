<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-03-28 Thu 14:54 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Applications</title>
<meta name="author" content="sbilmis" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="http://www.pirilampo.org/styles/readtheorg/css/readtheorg.css"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/lib/js/jquery.stickytableheaders.js"></script>
<script type="text/javascript" src="http://www.pirilampo.org/styles/readtheorg/js/readtheorg.js"></script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href=""> UP </a>
 |
 <a accesskey="H" href="file:///Users/sbilmis/my_projects/sb_org_html/apps.html"> HOME </a>
</div><div id="content" class="content">
<h1 class="title">Applications</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org31df29b">SSH</a>
<ul>
<li><a href="#orgccab1d8">How to Log in to a Server via SSH Without Needing to Enter a Password</a></li>
<li><a href="#orgb31e692">How to change the password of ssh key</a></li>
<li><a href="#org407e1fc">How to use ssh Agent to manage passphrase</a></li>
<li><a href="#org78ee80e">How to use sshpass for initial setup</a></li>
<li><a href="#org10f5099">How to keep ssh session alive</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-org31df29b" class="outline-2">
<h2 id="org31df29b">SSH</h2>
<div class="outline-text-2" id="text-org31df29b">
</div>
<div id="outline-container-orgccab1d8" class="outline-3">
<h3 id="orgccab1d8">How to Log in to a Server via SSH Without Needing to Enter a Password</h3>
<div class="outline-text-3" id="text-orgccab1d8">
</div>
<div id="outline-container-orgd00c9ec" class="outline-4">
<h4 id="orgd00c9ec">Step 1: Generate an SSH Key Pair on Your Local Machine</h4>
<div class="outline-text-4" id="text-orgd00c9ec">
<ul class="org-ul">
<li>Use the command <code>ssh-keygen -t rsa -b 4096</code> to generate a new SSH key pair.</li>
<li>Follow the prompts to choose where to save the key and whether to use a passphrase.</li>
</ul>
</div>
</div>

<div id="outline-container-org44c4e9e" class="outline-4">
<h4 id="org44c4e9e">Step 2: Copy the Public Key to Your Server</h4>
<div class="outline-text-4" id="text-org44c4e9e">
<ul class="org-ul">
<li>Use <code>ssh-copy-id your_username@server_address</code> to copy your public SSH key to the server.</li>
<li>Replace <code>your_username</code> with your actual username on the server and <code>server_address</code> with the server's IP address or domain name.</li>
</ul>
</div>
</div>

<div id="outline-container-orgad36675" class="outline-4">
<h4 id="orgad36675">Step 3: Log In Without a Password</h4>
<div class="outline-text-4" id="text-orgad36675">
<ul class="org-ul">
<li>Now you can log in to the server without a password by using <code>ssh your_username@server_address</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-orgce1973d" class="outline-4">
<h4 id="orgce1973d">Step 4: Troubleshooting</h4>
<div class="outline-text-4" id="text-orgce1973d">
<ul class="org-ul">
<li>Ensure the permissions of the <code>~/.ssh</code> directory are set to <code>700</code> and the <code>~/.ssh/authorized_keys</code> file is set to <code>600</code>.</li>
<li>Check that the SSH daemon configuration on the server allows for public key authentication (<code>PubkeyAuthentication yes</code>).</li>
</ul>
</div>
</div>

<div id="outline-container-orga5f424a" class="outline-4">
<h4 id="orga5f424a">Step 5: Using an SSH Agent for Managing Passphrases</h4>
<div class="outline-text-4" id="text-orga5f424a">
<ul class="org-ul">
<li>If your SSH key is passphrase-protected, use <code>ssh-agent</code> and <code>ssh-add</code> to avoid entering it every time.</li>
<li>Start the agent with <code>eval $(ssh-agent -s)</code> and add your key with <code>ssh-add ~/.ssh/id_rsa</code>.</li>
</ul>
</div>
</div>

<div id="outline-container-org658e58a" class="outline-4">
<h4 id="org658e58a">Command list</h4>
<div class="outline-text-4" id="text-org658e58a">
<pre class="example">
## create ssh key if it does not exist
cd ~/.ssh

ssh-keygen -t rsa -b 4096 -C
## you may skip the password creation

## copy the public key to the server
ssh-copy-id remote_username@server_ip_address

## Once the user is authenticated, the public key will be appended to the remote user authorized_keys file and connection will be closed.

## If by some reason the ssh-copy-id utility is not available on your local computer you can use the following command to copy the public key:
cat ~/.ssh/id_rsa.pub | ssh remote_username@server_ip_address "mkdir -p ~/.ssh &amp;&amp; chmod 700 ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys &amp;&amp; chmod 600 ~/.ssh/authorized_keys"

</pre>


<ul class="org-ul">
<li>See also  <a href="https://linuxize.com/post/how-to-setup-passwordless-ssh-login/">https://linuxize.com/post/how-to-setup-passwordless-ssh-login/</a></li>
</ul>
</div>
</div>
</div>


<div id="outline-container-orgb31e692" class="outline-3">
<h3 id="orgb31e692">How to change the password of ssh key</h3>
<div class="outline-text-3" id="text-orgb31e692">
<pre class="example">
ssh-keygen -p -P oldpasswd -N newpassword -f ~/.ssh/id_rsa-yeni

## if you want to do it interactively
ssh-keygen -p -f /root/.ssh/id_rsa

# When prompted for a new password, select a password of more than four characters. It can include a series of words, punctuation, numbers, whitespace, or a string of characters.
</pre>
</div>
</div>


<div id="outline-container-org407e1fc" class="outline-3">
<h3 id="org407e1fc">How to use ssh Agent to manage passphrase</h3>
<div class="outline-text-3" id="text-org407e1fc">
<ul class="org-ul">
<li>If you used a passphrase when creating your SSH key and don't want to enter it every time, you can use an SSH agent to manage your keys. On your local machine, you can start the agent and add your key by running:</li>
</ul>
<pre class="example">
eval $(ssh-agent -s)
ssh-add ~/.ssh/id_rsa
</pre>

<ul class="org-ul">
<li>This setup provides a secure and convenient way to log in to your server without needing to enter a password every time.</li>
</ul>
</div>
</div>


<div id="outline-container-org78ee80e" class="outline-3">
<h3 id="org78ee80e">How to use sshpass for initial setup</h3>
<div class="outline-text-3" id="text-org78ee80e">
<ul class="org-ul">
<li><p>
Assume that you are installing 100 servers and you do not want to enter the password to copy your ssh key to the servers then you can
</p>
<pre class="example">

sshpass -p 'your_password_here' ssh-copy-id user@server

</pre></li>

<li>Delete the password from the history via  =history -d "line of the history"</li>

<li><p>
Alternatively one can use "expect" which is a program to automate interactions with programs that expose a text reminal interface.
</p>
<pre class="example">
#!/usr/bin/expect

set timeout 20
set password "your_password_here"
set server "server_address"
set user "your_username"

spawn ssh-copy-id $user@$server
expect "password:"
send "$password\r";
expect eof

</pre></li>
</ul>
</div>
</div>


<div id="outline-container-org10f5099" class="outline-3">
<h3 id="org10f5099">How to keep ssh session alive</h3>
<div class="outline-text-3" id="text-org10f5099">
<ul class="org-ul">
<li>After logging to remote server via ssh your terminal freezes in 10-15 minutes time. If this is the issue you are facing, you need to check the ssh config?</li>
<li><p>
You can use screen or tmux to get rid of the issue. Alterbnatively,
</p>
<pre class="example">
## modify ssh config i.e, $HOME/.ssh/config
chmod 600 ~/.ssh/config

Host remotehost
    HostName remotehost.com
    ServerAliveInterval 240

## To enable sending a keep-alive signal for all hosts, place the following contents in the configuration file:
Host *
    ServerAliveInterval 240
</pre></li>
<li><a href="https://stackoverflow.com/questions/25084288/keep-ssh-session-alive">See this link for more info</a></li>
</ul>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: sbilmis</p>
<p class="date">Created: 2024-03-28 Thu 14:54</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
